{% extends "layout.html" %}

{% block title %}
    Accounts
{% endblock %}

{% block main %}
    
    <h1 class="mb-3 text-start">Accounts</h1>
    <div class="mb-3 text-start">
        <h5>Checking Accounts: </h5>
            {% if not checking_library.all_accounts() %}
                <a class="nav-link" href="/open_account?type=checking">+ Open New Checking Account</a>
            {% else %}
                {% for account in checking_library.all_accounts() %}
                    <div class="card bg-info text-dark w-75 mb-3">
                        <div class="card-body">
                            <h5 class="card-title">{{ account.nickname }}</h5>
                            <p class="card-text">Account Number: {{ account.account_number }}</p>
                            <p class="card-text" style="text-align: right;"><strong>Availible Balance: {{ "$%.2f"|format(account.balance) }}</strong></p>
                            <a href="{{ url_for('view_account') }}?account_id={{ account.id }}" class="btn btn-success">View</a>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
    </div>
    <div class="text-start">
        <h5>Savings Accounts: </h5>
            {% if not savings_library.all_accounts() %}
                <a class="nav-link" href="/open_account?type=savings">+ Open New Savings Account</a>
            {% else %}
                {% for account in savings_library.all_accounts() %}
                    <div class="card bg-info text-dark w-75 mb-3">
                        <div class="card-body">
                            <h5 class="card-title">{{ account.nickname }}</h5>
                            <p class="card-text">Account Number: {{ account.account_number }}</p>
                            <p class="card-text" style="text-align: right;"><strong>Availible Balance: {{ "$%.2f"|format(account.balance) }}</strong></p>
                            <a href="{{ url_for('view_account') }}?account_id={{ account.id }}" class="btn btn-success">View</a>
                        </div>
                    </div>
                {% endfor %}
            {% endif %}
    </div>      
    <div class="text-start mt-4">
        <h5>Open a new account?</h5>
        <a class="btn btn-success me-2" href="/open_account?type=checking">Open Checking Account</a>
        <a class="btn btn-success" href="/open_account?type=savings">Open Savings Account</a>
    </div>
{% endblock %}